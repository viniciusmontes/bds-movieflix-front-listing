{"ast":null,"code":"var _jsxFileName = \"/Users/viniciusvini/Documents/workspace-vscode/bds-movieflix-front/frontweb/src/pages/Private/MovieCatalog/GenreFilter/index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { requestBackend } from 'util/requests';\nimport { Controller, useForm } from 'react-hook-form';\nimport Select from 'react-select';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GenreFilter = ({\n  onSubmitFilter\n}) => {\n  _s();\n  const [selectGenre, setSelectGenre] = useState([]);\n  const {\n    handleSubmit,\n    setValue,\n    getValues,\n    control\n  } = useForm();\n  const onSubmit = formData => {\n    onSubmitFilter(formData);\n  };\n  const handleChangeGenre = value => {\n    setValue('genre', value);\n    const obj = {\n      genre: getValues('genre')\n    };\n    onSubmitFilter(obj);\n  };\n  useEffect(() => {\n    requestBackend({\n      url: '/genres',\n      withCredentials: true\n    }).then(response => {\n      setSelectGenre(response.data.content);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"genre-filter-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"genre-filter-select\",\n        children: /*#__PURE__*/_jsxDEV(Controller, {\n          name: \"genre\",\n          control: control,\n          render: ({\n            field\n          }) => /*#__PURE__*/_jsxDEV(Select, {\n            ...field,\n            options: selectGenre,\n            placeholder: \"Genero\",\n            onChange: value => handleChangeGenre(value),\n            getOptionLabel: genre => genre.name,\n            getOptionValue: genre => String(genre.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(GenreFilter, \"Ie+/p6bE4pa2LvLhxTkv0t8V4UY=\", false, function () {\n  return [useForm];\n});\n_c = GenreFilter;\nexport default GenreFilter;\nvar _c;\n$RefreshReg$(_c, \"GenreFilter\");","map":{"version":3,"names":["useEffect","useState","requestBackend","Controller","useForm","Select","jsxDEV","_jsxDEV","GenreFilter","onSubmitFilter","_s","selectGenre","setSelectGenre","handleSubmit","setValue","getValues","control","onSubmit","formData","handleChangeGenre","value","obj","genre","url","withCredentials","then","response","data","content","className","children","name","render","field","options","placeholder","onChange","getOptionLabel","getOptionValue","String","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/viniciusvini/Documents/workspace-vscode/bds-movieflix-front/frontweb/src/pages/Private/MovieCatalog/GenreFilter/index.tsx"],"sourcesContent":["import { Genre } from 'types/genre';\nimport { useEffect, useState } from 'react';\nimport { requestBackend } from 'util/requests';\nimport { Controller, useForm } from 'react-hook-form';\nimport Select from 'react-select';\n\nimport './styles.css';\n\nexport type GenreFilterData = {\n  genre: Genre | null;\n};\n\ntype Props = {\n  onSubmitFilter: (data: GenreFilterData) => void;\n};\n\nconst GenreFilter = ({ onSubmitFilter }: Props) => {\n  const [selectGenre, setSelectGenre] = useState<Genre[]>([]);\n\n  const { handleSubmit, setValue, getValues, control } =\n    useForm<GenreFilterData>();\n\n  const onSubmit = (formData: GenreFilterData) => {\n    onSubmitFilter(formData);\n  };\n\n  const handleChangeGenre = (value: Genre) => {\n    setValue('genre', value);\n    const obj: GenreFilterData = {\n      genre: getValues('genre'),\n    };\n    onSubmitFilter(obj);\n  };\n\n  useEffect(() => {\n    requestBackend({ url: '/genres', withCredentials: true }).then(\n      (response) => {\n        setSelectGenre(response.data.content);\n      }\n    );\n  }, []);\n\n  return (\n    <div className=\"genre-filter-container\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"genre-filter-select\">\n          <Controller\n            name=\"genre\"\n            control={control}\n            render={({ field }) => (\n              <Select\n                {...field}\n                options={selectGenre}\n                placeholder=\"Genero\"\n                onChange={(value) => handleChangeGenre(value as Genre)}\n                getOptionLabel={(genre: Genre) => genre.name}\n                getOptionValue={(genre: Genre) => String(genre.id)}\n              />\n            )}\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default GenreFilter;\n"],"mappings":";;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,UAAU,EAAEC,OAAO,QAAQ,iBAAiB;AACrD,OAAOC,MAAM,MAAM,cAAc;AAEjC,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAUtB,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAsB,CAAC,KAAK;EAAAC,EAAA;EACjD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAU,EAAE,CAAC;EAE3D,MAAM;IAAEY,YAAY;IAAEC,QAAQ;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAClDZ,OAAO,CAAkB,CAAC;EAE5B,MAAMa,QAAQ,GAAIC,QAAyB,IAAK;IAC9CT,cAAc,CAACS,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAMC,iBAAiB,GAAIC,KAAY,IAAK;IAC1CN,QAAQ,CAAC,OAAO,EAAEM,KAAK,CAAC;IACxB,MAAMC,GAAoB,GAAG;MAC3BC,KAAK,EAAEP,SAAS,CAAC,OAAO;IAC1B,CAAC;IACDN,cAAc,CAACY,GAAG,CAAC;EACrB,CAAC;EAEDrB,SAAS,CAAC,MAAM;IACdE,cAAc,CAAC;MAAEqB,GAAG,EAAE,SAAS;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC,CAACC,IAAI,CAC3DC,QAAQ,IAAK;MACZd,cAAc,CAACc,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC;IACvC,CACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACErB,OAAA;IAAKsB,SAAS,EAAC,wBAAwB;IAAAC,QAAA,eACrCvB,OAAA;MAAMU,QAAQ,EAAEJ,YAAY,CAACI,QAAQ,CAAE;MAAAa,QAAA,eACrCvB,OAAA;QAAKsB,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eAClCvB,OAAA,CAACJ,UAAU;UACT4B,IAAI,EAAC,OAAO;UACZf,OAAO,EAAEA,OAAQ;UACjBgB,MAAM,EAAEA,CAAC;YAAEC;UAAM,CAAC,kBAChB1B,OAAA,CAACF,MAAM;YAAA,GACD4B,KAAK;YACTC,OAAO,EAAEvB,WAAY;YACrBwB,WAAW,EAAC,QAAQ;YACpBC,QAAQ,EAAGhB,KAAK,IAAKD,iBAAiB,CAACC,KAAc,CAAE;YACvDiB,cAAc,EAAGf,KAAY,IAAKA,KAAK,CAACS,IAAK;YAC7CO,cAAc,EAAGhB,KAAY,IAAKiB,MAAM,CAACjB,KAAK,CAACkB,EAAE;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD;QACD;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAClC,EAAA,CAhDIF,WAAW;EAAA,QAIbJ,OAAO;AAAA;AAAAyC,EAAA,GAJLrC,WAAW;AAkDjB,eAAeA,WAAW;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}